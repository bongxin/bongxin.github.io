import{_ as s,c as a,o as n,b as l}from"./app.2ef68240.js";const A=JSON.parse('{"title":"功能裁减","description":"","frontmatter":{},"headers":[],"relativePath":"skill/development/framework/若依/2.功能裁剪.md","lastUpdated":1691078339000}'),p={name:"skill/development/framework/若依/2.功能裁剪.md"},o=l(`<h1 id="功能裁减" tabindex="-1">功能裁减 <a class="header-anchor" href="#功能裁减" aria-hidden="true">#</a></h1><p>主要是把原始系统中不需要的功能去掉，包括菜单、代码、按钮、功能入口等</p><h2 id="去掉顶部菜单项" tabindex="-1">去掉顶部菜单项 <a class="header-anchor" href="#去掉顶部菜单项" aria-hidden="true">#</a></h2><h3 id="必删菜单项" tabindex="-1">必删菜单项 <a class="header-anchor" href="#必删菜单项" aria-hidden="true">#</a></h3><p>去掉的菜单项包含<code>源码地址</code>,<code>文档地址</code> 修改文件<code>src/layout/components/Navbar.vue</code>,将以下代码删除掉</p><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">el-tooltip</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">content</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">源码地址</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">effect</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dark</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">placement</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bottom</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  &lt;ruo-yi-git id=&quot;ruoyi-git&quot; class=&quot;right-menu-item hover-effect&quot; /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">el-tooltip</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">el-tooltip</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">content</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文档地址</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">effect</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dark</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">placement</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bottom</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  &lt;ruo-yi-doc id=&quot;ruoyi-doc&quot; class=&quot;right-menu-item hover-effect&quot; /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">el-tooltip</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">screenfull</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">screenfull</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">right-menu-item hover-effect</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="可选菜单项" tabindex="-1">可选菜单项 <a class="header-anchor" href="#可选菜单项" aria-hidden="true">#</a></h3><p>去掉的菜单项包含<code>搜索</code>,<code>布局大小</code>,<code>布局设置</code> 修改文件<code>src/layout/components/Navbar.vue</code>，将以下代码注释掉</p><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">header-search</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">right-menu-item</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">...</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">el-tooltip</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">content</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">布局大小</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">effect</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dark</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">placement</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bottom</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  &lt;size-select id=&quot;size-select&quot; class=&quot;right-menu-item hover-effect&quot; /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">el-tooltip</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">el-dropdown-item</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">click</span><span style="color:#A6ACCD;">.</span><span style="color:#C792EA;">native</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">setting </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  &lt;span&gt;布局设置&lt;/span&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">el-dropdown-item</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="去掉顶部菜单项-只保留部分系统菜单" tabindex="-1">去掉顶部菜单项（只保留部分系统菜单） <a class="header-anchor" href="#去掉顶部菜单项-只保留部分系统菜单" aria-hidden="true">#</a></h2><h3 id="菜单树" tabindex="-1">菜单树 <a class="header-anchor" href="#菜单树" aria-hidden="true">#</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">├─首页</span></span>
<span class="line"><span style="color:#A6ACCD;">├─系统管理</span></span>
<span class="line"><span style="color:#A6ACCD;">│  ├─用户管理</span></span>
<span class="line"><span style="color:#A6ACCD;">│  ├─角色管理</span></span>
<span class="line"><span style="color:#A6ACCD;">│  ├─菜单管理</span></span>
<span class="line"><span style="color:#A6ACCD;">│  ├─部门管理</span></span>
<span class="line"><span style="color:#A6ACCD;">│  ├─岗位管理</span></span>
<span class="line"><span style="color:#A6ACCD;">│  ├─字典管理</span></span>
<span class="line"><span style="color:#A6ACCD;">│  ├─参数设置（可选）</span></span>
<span class="line"><span style="color:#A6ACCD;">│  ├─通知公告（可选）</span></span>
<span class="line"><span style="color:#A6ACCD;">│  ├─日志管理（可选）</span></span>
<span class="line"><span style="color:#A6ACCD;">│  │  ├─操作日志（可选）</span></span>
<span class="line"><span style="color:#A6ACCD;">│  │  ├─登录日志（可选）</span></span>
<span class="line"><span style="color:#A6ACCD;">├─系统监控（可选）</span></span>
<span class="line"><span style="color:#A6ACCD;">│  ├─在线用户（可选）</span></span>
<span class="line"><span style="color:#A6ACCD;">│  ├─定时任务（可选）</span></span>
<span class="line"><span style="color:#A6ACCD;">│  ├─数据监控（可选）</span></span>
<span class="line"><span style="color:#A6ACCD;">│  └─服务监控（可选）</span></span>
<span class="line"><span style="color:#A6ACCD;">│  └─缓存监控（可选）</span></span>
<span class="line"><span style="color:#A6ACCD;">│  └─缓存列表（可选）</span></span>
<span class="line"><span style="color:#A6ACCD;">└─系统工具（可选）</span></span>
<span class="line"><span style="color:#A6ACCD;">│   ├─表单构建（可选）</span></span>
<span class="line"><span style="color:#A6ACCD;">│   ├─代码生成（可选）</span></span>
<span class="line"><span style="color:#A6ACCD;">│   ├─系统接口（可选）</span></span>
<span class="line"><span style="color:#A6ACCD;">└─官网（可选）</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="处理菜单" tabindex="-1">处理菜单 <a class="header-anchor" href="#处理菜单" aria-hidden="true">#</a></h3><p>处理的菜单分为两种类型，一种是固定菜单，一种是动态菜单，动态菜单需要在数据库里面删除</p><h4 id="修改数据库菜单表记录" tabindex="-1">修改数据库菜单表记录 <a class="header-anchor" href="#修改数据库菜单表记录" aria-hidden="true">#</a></h4><p>数据库表名称为<code>sys_menu</code>,将<code>status</code>字段的值改成<code>1</code>即可，（0正常，1停用） <code>visible</code>表示菜单显示状态（0显示，1隐藏），隐藏时只是菜单不显示而已，通过路由地址依然可以访问。 <code>status</code>表示菜单启用状态（0正常，1停用），停用时不仅是菜单不显示，通过路由地址也访问不了。</p><blockquote><p>最好是数据库补充<code>is_delete</code>字段用于控制逻辑删除</p></blockquote><h2 id="去掉首页内容" tabindex="-1">去掉首页内容 <a class="header-anchor" href="#去掉首页内容" aria-hidden="true">#</a></h2><p>重命名<code>/src/index.vue</code>文件为<code>/src/index.vue.bak</code>，或直接删掉</p><p>复制<code>/src/index_v1.vue</code>文件为<code>/src/index.vue</code>,修改文件内容</p><p>注释或删除以下代码</p><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dashboard-editor-container</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  &lt;panel-group @handleSetLineChartData=&quot;handleSetLineChartData&quot; /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  &lt;el-row style=&quot;background:#fff;padding:16px 16px 0;margin-bottom:32px;&quot;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      &lt;line-chart :chart-data=&quot;lineChartData&quot; /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  &lt;/el-row&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  &lt;el-row :gutter=&quot;32&quot;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      &lt;el-col :xs=&quot;24&quot; :sm=&quot;24&quot; :lg=&quot;8&quot;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      &lt;div class=&quot;chart-wrapper&quot;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">          &lt;raddar-chart /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">/</span><span style="color:#F07178;">el-col</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      &lt;el-col :xs=&quot;24&quot; :sm=&quot;24&quot; :lg=&quot;8&quot;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      &lt;div class=&quot;chart-wrapper&quot;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">          &lt;pie-chart /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      &lt;/div&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">el-col</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">el-col</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">xs</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">24</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">sm</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">24</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">lg</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      &lt;div class=&quot;chart-wrapper&quot;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">          &lt;bar-chart /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      &lt;/div&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">el-col</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">/</span><span style="color:#F07178;">el-row</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/div&gt;</span></span>
<span class="line"></span></code></pre></div><p>补充以下代码</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;h1&gt;XXX系统&lt;/h1&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="修改加载页面的背景样式" tabindex="-1">修改加载页面的背景样式 <a class="header-anchor" href="#修改加载页面的背景样式" aria-hidden="true">#</a></h2><h3 id="修改背景色" tabindex="-1">修改背景色 <a class="header-anchor" href="#修改背景色" aria-hidden="true">#</a></h3><p>原来是紫色的，可改成自己喜欢的颜色，修改文件<code>public/index.html</code> 修改内容如下,修改<code>#loader-wrapper</code>选择器的<code>background</code>属性</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">#loader-wrapper .loader-section {</span></span>
<span class="line"><span style="color:#A6ACCD;">    position: fixed;</span></span>
<span class="line"><span style="color:#A6ACCD;">    top: 0;</span></span>
<span class="line"><span style="color:#A6ACCD;">    width: 51%;</span></span>
<span class="line"><span style="color:#A6ACCD;">    height: 100%;</span></span>
<span class="line"><span style="color:#A6ACCD;">    background: #7171C6;</span></span>
<span class="line"><span style="color:#A6ACCD;">    z-index: 1000;</span></span>
<span class="line"><span style="color:#A6ACCD;">    -webkit-transform: translateX(0);</span></span>
<span class="line"><span style="color:#A6ACCD;">    -ms-transform: translateX(0);</span></span>
<span class="line"><span style="color:#A6ACCD;">    transform: translateX(0);</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="修改加载提示文本" tabindex="-1">修改加载提示文本 <a class="header-anchor" href="#修改加载提示文本" aria-hidden="true">#</a></h3><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">同样是修改文件\`public/index.html\`的\`load_title\`文本内容</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">app</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">loader-wrapper</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">loader</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">loader-section section-left</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">loader-section section-right</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">load_title</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">正在加载系统资源，请耐心等待</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div>`,31),e=[o];function t(c,r,D,y,F,i){return n(),a("div",null,e)}const d=s(p,[["render",t]]);export{A as __pageData,d as default};
