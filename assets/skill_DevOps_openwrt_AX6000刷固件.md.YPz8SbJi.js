import{_ as t,c as n,J as a,aS as s,E as e,o as h}from"./chunks/framework.Cuoppmxr.js";const l="/assets/telnet.Cj3jzWy5.png",p="/assets/%E6%B0%B8%E4%B9%85%E5%BC%80%E5%90%AF%E5%B9%B6%E5%9B%BA%E5%8C%96ssh.C1xsE_s8.png",k="/assets/ssh.ZnIiTjVS.png",r="/assets/%E6%9F%A5%E7%9C%8B%E8%BF%87%E6%B8%A1%E5%9B%BA%E4%BB%B6ip.C8lBEVCM.png",d="/assets/%E8%AE%BF%E9%97%AE%E8%BF%87%E6%B8%A1%E5%9B%BA%E4%BB%B6.DKBtWEcE.png",F="/assets/ssh%E8%BF%87%E6%B8%A1%E5%9B%BA%E4%BB%B6.mjd9ybmN.png",o="/assets/%E5%88%B7%E5%86%99%E5%9B%BA%E4%BB%B6.CV-STiUU.png",c="/assets/%E5%86%99%E5%85%A5%E5%9B%BA%E4%BB%B6%E4%B8%AD.CoWytDcD.png",A=JSON.parse('{"title":"红米AX6000刷UBoot和OpenWrt固件","description":"","frontmatter":{},"headers":[],"relativePath":"skill/DevOps/openwrt/AX6000刷固件.md","filePath":"skill/DevOps/openwrt/AX6000刷固件.md","lastUpdated":1730378250000}'),g={name:"skill/DevOps/openwrt/AX6000刷固件.md"},y=s('<h1 id="红米ax6000刷uboot和openwrt固件" tabindex="-1">红米AX6000刷UBoot和OpenWrt固件 <a class="header-anchor" href="#红米ax6000刷uboot和openwrt固件" aria-label="Permalink to &quot;红米AX6000刷UBoot和OpenWrt固件&quot;">​</a></h1><ul><li>开启SSH</li><li>刷入过渡固件</li><li>刷入OpenWrt固件</li></ul><h2 id="升级官方固件" tabindex="-1">升级官方固件 <a class="header-anchor" href="#升级官方固件" aria-label="Permalink to &quot;升级官方固件&quot;">​</a></h2><p>下载固件地址：<a href="https://share.qust.me/redmi-ax6000-1.2.8.bin" target="_blank" rel="noreferrer">https://share.qust.me/redmi-ax6000-1.2.8.bin</a></p><h2 id="开启ssh" tabindex="-1">开启SSH <a class="header-anchor" href="#开启ssh" aria-label="Permalink to &quot;开启SSH&quot;">​</a></h2>',5),C=s('<p>文档地址：<a href="https://qust.me/post/ax6000-shellclash/" target="_blank" rel="noreferrer">红米 AX6000 最强 CPU 的硬路由｜解锁 SSH 安装 ShellClash 教程</a></p><h3 id="获取stok" tabindex="-1">获取stok <a class="header-anchor" href="#获取stok" aria-label="Permalink to &quot;获取stok&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://192.168.31.1/cgi-bin/luci/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;stok</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">c9d5f7d3ccfc896e9f04bea8c88d0938/web/prosetting/qos</span></span></code></pre></div><h3 id="开启调试模式" tabindex="-1">开启调试模式 <a class="header-anchor" href="#开启调试模式" aria-label="Permalink to &quot;开启调试模式&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://192.168.31.1/cgi-bin/luci/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;stok</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">c9d5f7d3ccfc896e9f04bea8c88d0938/api/misystem/set_sys_time?timezone=%20%27%20%3B%20zz%3D%24%28dd%20if%3D%2Fdev%2Fzero%20bs%3D1%20count%3D2%202%3E%2Fdev%2Fnull%29%20%3B%20printf%20%27%A5%5A%25c%25c%27%20%24zz%20%24zz%20%7C%20mtd%20write%20-%20crash%20%3B%20</span></span></code></pre></div><h3 id="重启" tabindex="-1">重启 <a class="header-anchor" href="#重启" aria-label="Permalink to &quot;重启&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://192.168.31.1/cgi-bin/luci/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;stok</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">c9d5f7d3ccfc896e9f04bea8c88d0938/api/misystem/set_sys_time?timezone=%20%27%20%3b%20reboot%20%3b%20</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>重启后，要重新获取新的 <code>stok</code></p></div><h3 id="设置永久开启telnet" tabindex="-1">设置永久开启telnet <a class="header-anchor" href="#设置永久开启telnet" aria-label="Permalink to &quot;设置永久开启telnet&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://192.168.31.1/cgi-bin/luci/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;stok</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">7ce0ad34047a948b4aa800ac8d1d2989/api/misystem/set_sys_time?timezone=%20%27%20%3B%20bdata%20set%20telnet_en%3D1%20%3B%20bdata%20set%20ssh_en%3D1%20%3B%20bdata%20set%20uart_en%3D1%20%3B%20bdata%20commit%20%3B%20</span></span></code></pre></div><h3 id="重启-1" tabindex="-1">重启 <a class="header-anchor" href="#重启-1" aria-label="Permalink to &quot;重启&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://192.168.31.1/cgi-bin/luci/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;stok</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">7ce0ad34047a948b4aa800ac8d1d2989/api/misystem/set_sys_time?timezone=%20%27%20%3b%20reboot%20%3b%20</span></span></code></pre></div><h3 id="telnet连接路由器" tabindex="-1">Telnet连接路由器 <a class="header-anchor" href="#telnet连接路由器" aria-label="Permalink to &quot;Telnet连接路由器&quot;">​</a></h3><p><img src="'+l+`" alt=""></p><h3 id="永久开启并固化ssh" tabindex="-1">永久开启并固化ssh <a class="header-anchor" href="#永久开启并固化ssh" aria-label="Permalink to &quot;永久开启并固化ssh&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;admin\\nadmin&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> passwd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh_en=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> telnet_en=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uart_en=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> boot_wait=on</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sed</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s/channel=.*/channel=&quot;debug&quot;/g&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/init.d/dropbear</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/etc/init.d/dropbear</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /data/auto_ssh</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /data/auto_ssh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://fastly.jsdelivr.net/gh/lemoeo/AX6S@main/auto_ssh.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auto_ssh.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uci</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> firewall.auto_ssh=include</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uci</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> firewall.auto_ssh.type=&#39;script&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uci</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> firewall.auto_ssh.path=&#39;/data/auto_ssh/auto_ssh.sh&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uci</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> firewall.auto_ssh.enabled=&#39;1&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uci</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> firewall</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uci</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> system.@system[0].timezone=&#39;CST-8&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uci</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> system.@system[0].webtimezone=&#39;CST-8&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uci</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> system.@system[0].timezoneindex=&#39;2.84&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uci</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mtd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> erase</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> crash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reboot</span></span></code></pre></div><p>这个命令将 root 用户的密码设置为 admin。</p><p><img src="`+p+'" alt=""></p><h3 id="ssh连接路由器" tabindex="-1">SSH连接路由器 <a class="header-anchor" href="#ssh连接路由器" aria-label="Permalink to &quot;SSH连接路由器&quot;">​</a></h3><p><img src="'+k+'" alt=""></p><h2 id="刷入openwrt固件" tabindex="-1">刷入OpenWrt固件 <a class="header-anchor" href="#刷入openwrt固件" aria-label="Permalink to &quot;刷入OpenWrt固件&quot;">​</a></h2>',21),B=s(`<p>文档地址：<a href="https://qust.me/post/ax6000-openwrt/" target="_blank" rel="noreferrer">红米 ax6000 刷 openwrt 教程，终于有完善好用的 openwrt 了</a></p><h3 id="刷入过渡固件" tabindex="-1">刷入过渡固件 <a class="header-anchor" href="#刷入过渡固件" aria-label="Permalink to &quot;刷入过渡固件&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /proc/cmdline</span></span></code></pre></div><p>这一步需要路由器是正常联网的，首先 ssh 连接上红米 ax6000 ，执行上面的命令，查看返回的 firmware 等于 0 还是 1。 （我截图这里是 1 ）</p><p>如果是 0 执行</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> boot_wait=on</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uart_en=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flag_boot_rootfs=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flag_last_success=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flag_boot_success=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flag_try_sys1_failed=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flag_try_sys2_failed=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://share.qust.me/d/%E8%B7%AF%E7%94%B1%E5%99%A8/redmi-ax6000/initramfs-factory.ubi</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> initramfs-factory.ubi</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ubiformat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/mtd9</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/initramfs-factory.ubi</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reboot</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span></code></pre></div><p>如果是 1 执行</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> boot_wait=on</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uart_en=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flag_boot_rootfs=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flag_last_success=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flag_boot_success=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flag_try_sys1_failed=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flag_try_sys2_failed=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://share.qust.me/d/%E8%B7%AF%E7%94%B1%E5%99%A8/redmi-ax6000/initramfs-factory.ubi</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> initramfs-factory.ubi</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ubiformat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/mtd8</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/initramfs-factory.ubi</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reboot</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span></code></pre></div><h3 id="访问过渡固件" tabindex="-1">访问过渡固件 <a class="header-anchor" href="#访问过渡固件" aria-label="Permalink to &quot;访问过渡固件&quot;">​</a></h3><div class="warning custom-block"><p class="custom-block-title">注意</p><p>如果没有找到OpenWrt的wifi的话，请使用网线连接路由来访问过渡固件</p></div><h4 id="查看过渡固件ip" tabindex="-1">查看过渡固件ip <a class="header-anchor" href="#查看过渡固件ip" aria-label="Permalink to &quot;查看过渡固件ip&quot;">​</a></h4><p><img src="`+r+'" alt=""></p><h4 id="浏览器访问过渡固件" tabindex="-1">浏览器访问过渡固件 <a class="header-anchor" href="#浏览器访问过渡固件" aria-label="Permalink to &quot;浏览器访问过渡固件&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>http://192.168.15.1/</span></span></code></pre></div><ul><li>用户名和密码：admin/admin</li></ul><p><img src="'+d+'" alt=""></p><h4 id="ssh连接过渡固件" tabindex="-1">ssh连接过渡固件 <a class="header-anchor" href="#ssh连接过渡固件" aria-label="Permalink to &quot;ssh连接过渡固件&quot;">​</a></h4><p><img src="'+F+`" alt=""></p><p>执行命令</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>fw_setenv boot_wait on</span></span>
<span class="line"><span>fw_setenv uart_en 1</span></span>
<span class="line"><span>fw_setenv flag_boot_rootfs 0</span></span>
<span class="line"><span>fw_setenv flag_last_success 1</span></span>
<span class="line"><span>fw_setenv flag_boot_success 1</span></span>
<span class="line"><span>fw_setenv flag_try_sys1_failed 8</span></span>
<span class="line"><span>fw_setenv flag_try_sys2_failed 8</span></span></code></pre></div><h3 id="刷写固件" tabindex="-1">刷写固件 <a class="header-anchor" href="#刷写固件" aria-label="Permalink to &quot;刷写固件&quot;">​</a></h3><div class="warning custom-block"><p class="custom-block-title">提示</p><p>地址：<a href="https://www.right.com.cn/forum/forum.php?mod=viewthread&amp;tid=8379756&amp;highlight=AX6000" target="_blank" rel="noreferrer">https://www.right.com.cn/forum/forum.php?mod=viewthread&amp;tid=8379756&amp;highlight=AX6000</a></p><p>固件下载地址(AX6000)：<a href="https://openwrt.mpdn.fun:8443/?dir=lede/mtk/2024-10-31__03-49-41--xiaomi_redmi-ax6000.stable-daily" target="_blank" rel="noreferrer">https://openwrt.mpdn.fun:8443/?dir=lede/mtk/2024-10-31__03-49-41--xiaomi_redmi-ax6000.stable-daily</a></p><p>在线体验：<a href="https://openwrt.mpdn.fun:8443/?dir=lede/x86_64/" target="_blank" rel="noreferrer">https://openwrt.mpdn.fun:8443/?dir=lede/x86_64/</a></p></div><p><img src="`+o+'" alt=""></p><p>打开系统-备份与升级，选择刷写固件。浏览里找到下载好的 openwrt 固件，选择上传。上传好后选择取消勾选保留当前配置然后选择继续。等待刷写完成自动重启，就会进入新的 openwrt 固件。</p><p><img src="'+c+'" alt=""></p><h2 id="访问openwrt" tabindex="-1">访问OpenWRT <a class="header-anchor" href="#访问openwrt" aria-label="Permalink to &quot;访问OpenWRT&quot;">​</a></h2><ul><li>后台地址：192.168.6.1</li><li>用户名：root</li><li>密码：password</li></ul>',27);function m(u,_,b,E,f,v){const i=e("BilibiliPlayer");return h(),n("div",null,[y,a(i,{"base-src":"//player.bilibili.com/player.html?isOutside=true&aid=260611365&bvid=BV1Qe411T7TZ&cid=833815481&p=1"}),C,a(i,{"base-src":"//player.bilibili.com/player.html?isOutside=true&aid=304933810&bvid=BV1oP411F7Y2&cid=886896357&p=1"}),B])}const q=t(g,[["render",m]]);export{A as __pageData,q as default};
