import{_ as s,c as i,o as a,aS as n}from"./chunks/framework.BItddkxz.js";const E=JSON.parse('{"title":"认识Docker Compose","description":"","frontmatter":{},"headers":[],"relativePath":"skill/DevOps/docker/DockerCompose/index.md","filePath":"skill/DevOps/docker/DockerCompose/index.md","lastUpdated":1740564128000}'),e={name:"skill/DevOps/docker/DockerCompose/index.md"},l=n(`<h1 id="认识docker-compose" tabindex="-1">认识Docker Compose <a class="header-anchor" href="#认识docker-compose" aria-label="Permalink to &quot;认识Docker Compose&quot;">​</a></h1><p>Docker Compose 是一个用于定义和运行多容器 Docker 应用程序的工具。通过一个 docker-compose.yml 文件，你可以配置应用程序的服务、网络和卷等，然后使用一条命令启动所有服务。</p><h2 id="nginx" tabindex="-1">Nginx <a class="header-anchor" href="#nginx" aria-label="Permalink to &quot;Nginx&quot;">​</a></h2><h3 id="运行一个nginx容器" tabindex="-1">运行一个Nginx容器 <a class="header-anchor" href="#运行一个nginx容器" aria-label="Permalink to &quot;运行一个Nginx容器&quot;">​</a></h3><h3 id="创建挂载目录和复制挂载文件" tabindex="-1">创建挂载目录和复制挂载文件 <a class="header-anchor" href="#创建挂载目录和复制挂载文件" aria-label="Permalink to &quot;创建挂载目录和复制挂载文件&quot;">​</a></h3><h4 id="创建挂载目录" tabindex="-1">创建挂载目录 <a class="header-anchor" href="#创建挂载目录" aria-label="Permalink to &quot;创建挂载目录&quot;">​</a></h4><blockquote><p>本地的挂载目录：/data/docker/nginx</p></blockquote><p>需要创建的挂载目录如下：</p><ul><li>/data/docker/nginx/conf/cert</li><li>/data/docker/nginx/conf/conf.d</li><li>/data/docker/nginx/html</li><li>/data/docker/nginx/logs</li></ul><h4 id="复制挂载文件" tabindex="-1">复制挂载文件 <a class="header-anchor" href="#复制挂载文件" aria-label="Permalink to &quot;复制挂载文件&quot;">​</a></h4><p>需要复制的文件有以下三个：</p><ul><li>/etc/nginx/nginx.conf</li><li>/etc/nginx/conf.d/default.conf</li><li>/usr/share/nginx/html</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> silly_wozniak:/etc/nginx/nginx.conf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./conf</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> silly_wozniak:/etc/nginx/conf.d/default.conf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./conf/conf.d</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> silly_wozniak:/usr/share/nginx/html/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./</span></span></code></pre></div><h3 id="准备docker-compose文件" tabindex="-1">准备docker-compose文件 <a class="header-anchor" href="#准备docker-compose文件" aria-label="Permalink to &quot;准备docker-compose文件&quot;">​</a></h3><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  nginx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    restart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">always</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    container_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nginx</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nginx</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;80:80&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;443:443&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 挂载主配置文件</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">E:/data/docker/nginx/conf/nginx.conf:/etc/nginx/nginx.conf</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 挂载自定义配置目录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">E:/data/docker/nginx/conf/conf.d:/etc/nginx/conf.d</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 挂载日志目录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">E:/data/docker/nginx/logs:/var/log/nginx</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 挂载静态资源目录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">E:/data/docker/nginx/html:/usr/share/nginx/html</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 挂载证书目录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">E:/data/docker/nginx/conf/cert:/etc/nginx/cert</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">NGINX_PORT=80</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">TZ=Asia/Shanghai</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    privileged</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><blockquote><p>本地的挂载目录：/data/docker/docker-compose.yml</p></blockquote><h3 id="创建和启动容器" tabindex="-1">创建和启动容器 <a class="header-anchor" href="#创建和启动容器" aria-label="Permalink to &quot;创建和启动容器&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">···</span></span></code></pre></div>`,20),t=[l];function h(p,k,o,d,r,c){return a(),i("div",null,t)}const y=s(e,[["render",h]]);export{E as __pageData,y as default};
