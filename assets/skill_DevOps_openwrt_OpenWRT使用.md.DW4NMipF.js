import{_ as s,c as i,o as a,aS as n}from"./chunks/framework.BItddkxz.js";const p="/assets/WAN%E5%8F%A3%E9%85%8D%E7%BD%AE.BdqE10cm.png",l="/assets/LAN%E5%8F%A3%E9%85%8D%E7%BD%AE.TR_unYXF.png",y=JSON.parse('{"title":"OpenWRT使用","description":"","frontmatter":{},"headers":[],"relativePath":"skill/DevOps/openwrt/OpenWRT使用.md","filePath":"skill/DevOps/openwrt/OpenWRT使用.md","lastUpdated":1736759642000}'),h={name:"skill/DevOps/openwrt/OpenWRT使用.md"},t=n('<h1 id="openwrt使用" tabindex="-1">OpenWRT使用 <a class="header-anchor" href="#openwrt使用" aria-label="Permalink to &quot;OpenWRT使用&quot;">​</a></h1><h2 id="拨号上网" tabindex="-1">拨号上网 <a class="header-anchor" href="#拨号上网" aria-label="Permalink to &quot;拨号上网&quot;">​</a></h2><h3 id="wan口配置、" tabindex="-1">WAN口配置、 <a class="header-anchor" href="#wan口配置、" aria-label="Permalink to &quot;WAN口配置、&quot;">​</a></h3><p>进入 <code>网络-接口</code> 协议选择 <code>PPPoE</code> ，输入宽带账号密码</p><p><img src="'+p+'" alt=""></p><h3 id="lan口配置" tabindex="-1">LAN口配置 <a class="header-anchor" href="#lan口配置" aria-label="Permalink to &quot;LAN口配置&quot;">​</a></h3><p>进入 <code>网络-接口</code> 协议选择 <code>静态地址</code></p><p><img src="'+l+`" alt=""></p><h2 id="wi-fi无线网络配置" tabindex="-1">Wi-Fi无线网络配置 <a class="header-anchor" href="#wi-fi无线网络配置" aria-label="Permalink to &quot;Wi-Fi无线网络配置&quot;">​</a></h2><p>进入 <code>网络-无线</code></p><h2 id="安装软件" tabindex="-1">安装软件 <a class="header-anchor" href="#安装软件" aria-label="Permalink to &quot;安装软件&quot;">​</a></h2><p>软件包对照：<a href="https://www.right.com.cn/forum/forum.php?mod=viewthread&amp;tid=8387547&amp;highlight=%E8%BD%AF%E4%BB%B6%E5%8C%85" target="_blank" rel="noreferrer">https://www.right.com.cn/forum/forum.php?mod=viewthread&amp;tid=8387547&amp;highlight=%E8%BD%AF%E4%BB%B6%E5%8C%85</a></p><h3 id="luci-app-ddns-动态dns" tabindex="-1">luci-app-DDNS(动态DNS) <a class="header-anchor" href="#luci-app-ddns-动态dns" aria-label="Permalink to &quot;luci-app-DDNS(动态DNS)&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>luci-app-ddns-go</span></span>
<span class="line"><span>luci-i18n-ddns-go-zh-cn</span></span></code></pre></div><h3 id="luci-app-adblock-广告拦截功能" tabindex="-1">luci-app-adblock(广告拦截功能) <a class="header-anchor" href="#luci-app-adblock-广告拦截功能" aria-label="Permalink to &quot;luci-app-adblock(广告拦截功能)&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>luci-app-adblock</span></span>
<span class="line"><span>luci-i18n-adblock-zh-cn</span></span></code></pre></div><h3 id="luci-app-openvpn-server-vpn服务" tabindex="-1">luci-app-openvpn-server(VPN服务) <a class="header-anchor" href="#luci-app-openvpn-server-vpn服务" aria-label="Permalink to &quot;luci-app-openvpn-server(VPN服务)&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>luci-app-openvpn-server</span></span>
<span class="line"><span>luci-i18n-openvpn-server-zh-cn</span></span></code></pre></div><h3 id="luci-app-openclash" tabindex="-1">luci-app-openclash <a class="header-anchor" href="#luci-app-openclash" aria-label="Permalink to &quot;luci-app-openclash&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>luci-app-openclash</span></span></code></pre></div><h2 id="修改ip网段" tabindex="-1">修改IP网段 <a class="header-anchor" href="#修改ip网段" aria-label="Permalink to &quot;修改IP网段&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/config/network</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># /etc/config/network</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;loopback&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> device</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;lo&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> proto</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;static&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ipaddr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;127.0.0.1&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> netmask</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;255.0.0.0&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> globals</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;globals&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ula_prefix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;fd28:31d8:4678::/48&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> device</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;br-lan&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;bridge&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        list</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ports</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;eth0&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> device</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;eth0&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> macaddr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;44:df:65:62:ea:17&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;lan&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> device</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;br-lan&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> proto</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;static&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ipaddr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;192.168.6.1&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> netmask</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;255.255.255.0&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip6assign</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;60&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> device</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;eth1&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> macaddr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;c8:bf:4c:fc:5a:90&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;wan&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> device</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;eth1&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> proto</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;pppoe&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> username</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;0207399577@163.gd&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> password</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;gx532231&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ipv6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;auto&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;wan6&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> device</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;eth1&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> proto</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;dhcpv6&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> switch</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;switch0&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable_vlan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> switch_vlan</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> device</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;switch0&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vlan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ports</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1 2 3 6&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> switch_vlan</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> device</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;switch0&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vlan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;2&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        option</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ports</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;4 5&#39;</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reboot</span></span></code></pre></div><h2 id="绑定ip和mac地址" tabindex="-1">绑定IP和Mac地址 <a class="header-anchor" href="#绑定ip和mac地址" aria-label="Permalink to &quot;绑定IP和Mac地址&quot;">​</a></h2><p>进入 <code>网络-DHCP/DNS-静态地址分配</code></p><h2 id="端口映射" tabindex="-1">端口映射 <a class="header-anchor" href="#端口映射" aria-label="Permalink to &quot;端口映射&quot;">​</a></h2><p>进入 <code>网络-防火墙-端口转发</code></p><h2 id="添加黑名单设备" tabindex="-1">添加黑名单设备 <a class="header-anchor" href="#添加黑名单设备" aria-label="Permalink to &quot;添加黑名单设备&quot;">​</a></h2><h2 id="设置局域网网段" tabindex="-1">设置局域网网段 <a class="header-anchor" href="#设置局域网网段" aria-label="Permalink to &quot;设置局域网网段&quot;">​</a></h2>`,30),e=[t];function k(F,d,r,o,c,g){return a(),i("div",null,e)}const B=s(h,[["render",k]]);export{y as __pageData,B as default};
